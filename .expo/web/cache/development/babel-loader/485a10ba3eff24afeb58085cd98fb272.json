{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\iTech\\\\source\\\\repos\\\\playground-app\\\\components\\\\CommentScreen.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { Entypo } from '@expo/vector-icons';\nimport axios from 'axios';\nimport Modal from \"./Modal\";\nexport default function CommentScreen(props) {\n  var data = props.route.params;\n  var navigation = props.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      _onChangeText = _useState2[1];\n\n  function onSubmit() {\n    return _regeneratorRuntime.async(function onSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.post('https://api.atmacom.crassus.tech/v1/equipment/complain', {\n              id: data.uuid,\n              comment: value\n            }));\n\n          case 3:\n            alert('Το σχόλιο σας απόσταλθηκε στην αρμόδια υπηρεσία. Ευχαριστούμε πολύ.');\n            _context.next = 10;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](0);\n            console.log('Error sending complain:', _context.t0);\n            alert('Το σχόλιο απέτυχε να αποστάλει. Παρακαλώ προσπαθήστε αργότερα');\n\n          case 10:\n            _context.prev = 10;\n            navigation.navigate('Home');\n            return _context.finish(10);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 6, 10, 13]]);\n  }\n\n  var styles = StyleSheet.create({\n    image: {\n      flex: 2,\n      width: \"80%\",\n      opacity: 0.8,\n      resizeMode: \"contain\"\n    },\n    imageBackground: {\n      flex: 1,\n      justifyContent: \"space-between\",\n      alignContent: \"center\",\n      alignItems: 'center'\n    },\n    commentBox: {\n      color: \"#ffff\",\n      borderWidth: 1,\n      textAlign: \"center\",\n      borderColor: \"rgb(151, 203, 97)\",\n      height: 50,\n      width: '70%'\n    },\n    commentInfoSubmit: {\n      alignItems: 'center',\n      flex: 1\n    },\n    commentInfo: {\n      flexDirection: 'row'\n    },\n    modal: {\n      alignSelf: 'center'\n    }\n  });\n  return React.createElement(ImageBackground, {\n    style: styles.imageBackground,\n    source: require(\"../assets/app-green-bg.png\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    }\n  }, React.createElement(Image, {\n    style: styles.image,\n    source: {\n      uri: data.imageUrl\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    }\n  }), React.createElement(View, {\n    style: styles.commentInfoSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    }\n  }, React.createElement(View, {\n    style: styles.commentInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    }\n  }, React.createElement(TextInput, {\n    multiline: true,\n    style: styles.commentBox,\n    placeholder: \"\\u03A0\\u03C1\\u03BF\\u03C3\\u03B8\\u03AE\\u03BA\\u03B7 \\u03B2\\u03BB\\u03AC\\u03B2\\u03B7\\u03C2\",\n    onChangeText: function onChangeText(text) {\n      return _onChangeText(text);\n    },\n    value: value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    }\n  }), React.createElement(Modal, {\n    style: styles.modal,\n    text: \"\\u0391\\u03BD\\u03B1\\u03C6\\u03AD\\u03C1\\u03B5\\u03C4\\u03B5 \\u03C4\\u03B7\\u03BD \\u03B2\\u03BB\\u03AC\\u03B2\\u03B7 \\u03C4\\u03BF\\u03C5 \\u03BF\\u03C1\\u03B3\\u03AC\\u03BD\\u03BF\\u03C5 \\u03C0\\u03BF\\u03C5 \\u03C3\\u03BA\\u03B1\\u03BD\\u03AC\\u03C1\\u03B1\\u03C4\\u03B5 \\u03BA\\u03B1\\u03B9 \\u03C3\\u03C4\\u03B5\\u03AF\\u03BB\\u03C4\\u03B5 \\u03C4\\u03BF \\u03C3\\u03C4\\u03B9\\u03C2 \\u03B1\\u03C1\\u03BC\\u03CC\\u03B4\\u03B9\\u03B5\\u03C2 \\u03C5\\u03C0\\u03B7\\u03C1\\u03B5\\u03C3\\u03AF\\u03B5\\u03C2, \\u03C0\\u03B1\\u03C4\\u03CE\\u03BD\\u03C4\\u03B1\\u03C2 \\u03C4\\u03BF \\u03B5\\u03B9\\u03BA\\u03BF\\u03BD\\u03AF\\u03B4\\u03B9\\u03BF \\u03B1\\u03C0\\u03BF\\u03C3\\u03C4\\u03BF\\u03BB\\u03AE\\u03C2 \\u03BA\\u03AC\\u03C4\\u03C9 \\u03B1\\u03C0\\u03CC \\u03C4\\u03BF \\u03C0\\u03BB\\u03B1\\u03AF\\u03C3\\u03B9\\u03BF \\u03B1\\u03BD\\u03B1\\u03C6\\u03BF\\u03C1\\u03AC\\u03C2\",\n    iconModal: React.createElement(View, {\n      style: styles.fancyAlert,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      }\n    }, React.createElement(Image, {\n      resizeMode: \"contain\",\n      source: require(\"../assets/icon.png\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      }\n    })),\n    size: 20,\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    }\n  })), React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return onSubmit();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    }\n  }, React.createElement(Entypo, {\n    name: \"paper-plane\",\n    size: 40,\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    }\n  })))));\n}","map":{"version":3,"sources":["C:/Users/iTech/source/repos/playground-app/components/CommentScreen.jsx"],"names":["React","useState","useEffect","Entypo","axios","Modal","CommentScreen","props","data","route","params","navigation","value","onChangeText","onSubmit","post","id","uuid","comment","alert","console","log","navigate","styles","StyleSheet","create","image","flex","width","opacity","resizeMode","imageBackground","justifyContent","alignContent","alignItems","commentBox","color","borderWidth","textAlign","borderColor","height","commentInfoSubmit","commentInfo","flexDirection","modal","alignSelf","require","uri","imageUrl","text","fancyAlert"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Text, View, StyleSheet, TextInput, TouchableOpacity, Image, ImageBackground } from 'react-native';\r\nimport { Entypo } from '@expo/vector-icons';\r\nimport axios from 'axios';\r\n\r\nimport Modal from './Modal';\r\n\r\nexport default function CommentScreen(props) {\r\n    const data = props.route.params\r\n    const { navigation } = props\r\n    const [value, onChangeText] = useState('');\r\n    async function onSubmit() {\r\n        try {\r\n            // Uncomment when ready to deploy\r\n            await axios.post('https://api.atmacom.crassus.tech/v1/equipment/complain', {\r\n                id: data.uuid,\r\n                comment: value\r\n            })\r\n            alert('Το σχόλιο σας απόσταλθηκε στην αρμόδια υπηρεσία. Ευχαριστούμε πολύ.')\r\n        } catch (e) {\r\n            console.log('Error sending complain:', e)\r\n            alert('Το σχόλιο απέτυχε να αποστάλει. Παρακαλώ προσπαθήστε αργότερα')\r\n        } finally {\r\n            navigation.navigate('Home')\r\n        }\r\n    }\r\n    const styles = StyleSheet.create({\r\n        image: {\r\n            flex: 2,\r\n            width: \"80%\",\r\n            opacity: 0.8,\r\n            resizeMode: \"contain\"\r\n        },\r\n        imageBackground: {\r\n            flex: 1,\r\n            justifyContent: \"space-between\",\r\n            alignContent: \"center\",\r\n            alignItems: 'center'\r\n        },\r\n        commentBox: {\r\n            color: \"#ffff\",\r\n            borderWidth: 1,\r\n            textAlign: \"center\",\r\n            borderColor: \"rgb(151, 203, 97)\",\r\n            height: 50,\r\n            width:'70%'\r\n        },\r\n        commentInfoSubmit: {\r\n            alignItems:'center',\r\n            flex: 1\r\n        },\r\n        commentInfo: {\r\n            flexDirection: 'row',\r\n        },\r\n        modal:{\r\n            alignSelf:'center'\r\n        }\r\n    })\r\n    return (\r\n        <ImageBackground style={styles.imageBackground} source={require('../assets/app-green-bg.png')}>\r\n            <Image style={styles.image} source={{ uri: data.imageUrl }} />\r\n            <View style={styles.commentInfoSubmit} >\r\n                <View style={styles.commentInfo}>\r\n                    <TextInput\r\n                        multiline={true}\r\n                        style={styles.commentBox}\r\n                        placeholder=\"Προσθήκη βλάβης\"\r\n                        onChangeText={text => onChangeText(text)}\r\n                        value={value}\r\n                    />\r\n                    <Modal\r\n                        style={styles.modal}\r\n                        text=\"Αναφέρετε την βλάβη του οργάνου που σκανάρατε και στείλτε το στις αρμόδιες υπηρεσίες, πατώντας το εικονίδιο αποστολής κάτω από το πλαίσιο αναφοράς\"\r\n                        iconModal={<View style={styles.fancyAlert}><Image resizeMode=\"contain\" source={require('../assets/icon.png')} /></View>}\r\n                        size={20}\r\n                        color='#fff'\r\n                    />\r\n                </View>\r\n\r\n                <View>\r\n                    < TouchableOpacity\r\n                        onPress={() => onSubmit()}\r\n                    >\r\n                        <Entypo name=\"paper-plane\" size={40} color=\"#fff\" />\r\n                    </ TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        </ImageBackground>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}